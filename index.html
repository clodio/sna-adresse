<!DOCTYPE html>
<html lang="fr">

<head>
   <meta name="robots" content="noindex">
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="">
   <meta name="author" content="">
   <meta name="google-site-verification" content="B0reyNxoFb1V3kCTeEtIEHgkhyhU7obL72mla2xBX7Q" />

   <title>Services adresses de la Poste SNA: Tous nos services en quelques clics.</title>

   <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
   <link rel="icon" href="img/favicon.ico" type="image/x-icon">

   <!-- Bootstrap Core CSS -->
   <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

   <!-- Custom Fonts -->
   <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
   <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"
   />


   <!-- Plugin CSS -->
   <link href="vendor/magnific-popup/magnific-popup.css " rel="stylesheet">

   <!-- Theme CSS -->
   <link href="css/creative.css " rel="stylesheet">

   <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
   <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
   <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top">

   <nav id="mainNav " class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
         <!-- Brand and toggle get grouped for better mobile display -->
         <div class="navbar-header">
            <button type="button " class="navbar-toggle collapsed " data-toggle="collapse " data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu
                    <i class="fa fa-bars"></i>
                </button>
            <a class="navbar-brand page-scroll " href="#page-top">
                    <img alt="La Poste " src="img/lp-logo.png " itemprop="logo " itemscope=" " itemtype="http://schema.org/Organization
        " class="hidden-xs">
                    <img alt=" " src="img/lp-logo.png " itemprop="logo " itemscope=" " itemtype="http://schema.org/Organization
        " class="hidden-sm hidden-md hidden-lg">
                </a>

         </div>

         <!-- Collect the nav links, forms, and other content for toggling -->
         <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
               <li>
                  <a class="page-scroll " href="index.html#demonstrations">Démonstrations</a>
               </li>
               <li>
                  <a class="page-scroll " href="index.html#customers">Clients</a>
               </li>
               <li>
                  <a class="page-scroll " href="index.html#contact">Contactez-nous</a>
               </li>
            </ul>
         </div>
         <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
   </nav>

   <header>
      <div class="header-content">
         <div class="header-content-inner">
            <div class="container">
               <div class="row">
                  <div class="col-lg-8 text-left">
                     <h1 id="homeHeading">Services adresses</h1>
                     <h2>Tous nos servives d'adresses à portée de clic</h2>
                  </div>
                  <div class="col-lg-4 text-left">
                     <!--?xml version="1.0 "?-->
                     <svg xmlns="http://www.w3.org/2000/svg " xmlns:xlink="http://www.w3.org/1999/xlink
        " width="303 " height="230 " viewbox="0 0 303 230 " id="places_illustration">
                                <title>Geosearch</title>
                                <defs>
                                    <filter x="-50% " y="-50% " width="200% " height="200% " filterunits="objectBoundingBox" id="b">
                                        <feoffset dy="6 " in="SourceAlpha " result="shadowOffsetOuter1"></feoffset>
                                        <fegaussianblur stdceviation="6 " in="shadowOffsetOuter1 " result="shadowBlurOuter1">
                                        </fegaussianblur>
                                        <fecolormatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0 " in="shadowBlurOuter1" result="shadowMatrixOuter1"></fecolormatrix>
                                        <feoffset dy="9 " in="SourceAlpha " result="shadowOffsetOuter2"></feoffset>
                                        <fegaussianblur stdceviation="13.5 " in="shadowOffsetOuter2 " result="shadowBlurOuter2">
                                        </fegaussianblur>
                                        <fecolormatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.14 0 " in="shadowBlurOuter2" result="shadowMatrixOuter2"></fecolormatrix>
                                        <femerge>
                                            <femergenode in="shadowMatrixOuter1"></femergenode>
                                            <femergenode in="shadowMatrixOuter2"></femergenode>
                                            <femergenode in="SourceGraphic"></femergenode>
                                        </femerge>
                                    </filter>
                                    <path id="a " d="M130.62 1.387c-2.643-1.54-6.92-1.54-9.547 0L2.163 71.102c-2.63 1.542-2.614
        4.02.038 5.536l118.834 67.927c2.652 1.515 6.96 1.516 9.605.01l119.436-67.948c2.653-1.51 2.672-3.978.02-5.525L130.618
        1.387z"></path>
                                </defs>
                                <g transform="translate(24.132 2.347) " fill="none " fill-rule="evenodd">
                                    <g transform="translate(1 46)">
                                        <mask id="c " fill="#fff">
                                            <use xlink:href="#a"></use>
                                        </mask>
                                        <use stroke="#2897C5 " stroke-width="4.5 " fill="#FFF " filter="url(#b)
        " xlink:href="#a"></use>
                                        <g mask="url(#c) " id="plan-holder " stroke="#2897C5 " stroke-opacity=".33
        " stroke-width="4.147">
                                            <path id="plan " d="M29.126 91.633l26.547 14.52 6.216-14.52H29.125zM87.428
        22.49L.448 72.965l6.214 4.84H67.76L87.428 22.49zM86.644 65.36l-15.855 50.9 49.7 28.772c5.993-27.148 27.824-62.706 42.803-79.673h-76.65zM178.208
        50.913c5.99-4.743 11.752-8.325 16.84-10.454l-45.564-28.266h-44.17L91.5 50.914h86.708zM179.167 115.413L161.57 92.25c-8.02
        11.407-17.772 31.234-21.75 46.325M215.144 49.456c-11.523 4.846-38.12 21.31-46.328 30.17l24.293 27.218 63.78-33.88-41.746-23.508z"></path>
                                        </g>
                                    </g>
                                    <ellipse fill-opacity=".6 " fill="#A1C2D0 " cx="124.745 " cy="122.421 " rx="29.979
        " ry="11.063"></ellipse>
                                    <g stroke="#8962B2 " id="pin " viewbox="0 0 100 100">
                                        <path d="M157.39 34.315c0 18.546-33.825 83.958-33.825 83.958S89.74 52.86 89.74
        34.315C89.74 15.768 104.885.73 123.565.73c18.68 0 33.825 15.038 33.825 33.585z " stroke-width="5.53 " fill="#E6D2FC"></path>
                                        <path d="M123.565 49.13c-8.008 0-14.496-6.498-14.496-14.52 0-8.017 6.487-14.52
        14.495-14.52s14.496 6.503 14.496 14.52c0 8.022-6.487 14.52-14.495 14.52z " stroke-width="2.765 " fill="#FFF"></path>
                                    </g>
                                </g>
                            </svg>
                  </div>
               </div>
               <div class="row">
                  <div class="col-lg-12 text-left">
                     <form class="bs-example bs-example-form">
                        <span class="smartAddressDemo">
                            <div class="">
                                <div class="input-group">
                                    <input autofocus type="search" class="form-control input-lg smartAddressDemoInput" placeholder="Saisissez une ville ou une rue ">
                                        
                                    <div class="input-group-btn">
                                    <button type="button" class="btn btn-default btn-lg dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Options
                                        <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right">
                           <li class="dropdown-header">Source</li>
                           <li>
                              <a id="source_ban" href="#">BAN</a>
                           </li>
                           <li>
                              <a id="source_serca_sans_cedex" href="#">La Poste Serca sans Cedex</a>
                           </li>
                           <li>
                              <a id="source_serca_avec_cedex" href="#">La Poste Serca avec Cedex</a>
                           </li>

                        </ul>
                  </div>
                  <!-- /btn-group -->
               </div>
               <!-- /input-group -->
            </div>
            </span>
            </form>
         </div>
      </div>
      <div class="row">
         <div class="col-lg-12 text-left">
            <div class="collapse json-response">
               <div class="json-response-text">
                  <pre><code>{ "query ": "e ", "suggestion ": { "name ": "Ekurhuleni ", "administrative ": "Gauteng ",
                                    "country ": "Afrique du Sud ", "countryCode ": "za ", "type ": "city ", "latlng ": {
                                    "lat ": -26.2186, "lng ": 28.1629 }, "highlight ": { "name ": "&lt;em&gt;E&lt;/em&gt;kurhuleni
                                    ", "administrative ": "Gauteng ", "country ": "Afrique du Sud " }, "value ": "Ekurhuleni,
                                    Gauteng, Afrique du Sud " } }
                                </code></pre>
               </div>
            </div>
         </div>
      </div>
      </div>
      </div>
      </div>
   </header>

   <section class=" section-small bg-primary " id="about">
      <div class="container">
         <div class="row">
            <div class="col-lg-12 text-center">
               <h2 class="section-heading">Services d'adresses rapides, ergonomiques, <em>très</em> facile à installer</h2>
               <hr class="light">
            </div>
         </div>
         <div class="row">

            <div class="col-lg-12 col-md-12 text-center">

               <p>Les services d'adresses du SNA de La Poste offrent un moyen rapide, ergonomique et facile à installer de saisie et validation d'adresses
                  sur votre site Web. Ils ont été conçus pour améliorer l'expérience utilisateur et la qualité des adresses de vos formulaires.</p>
               <p>Ils exploitent la base d'adresse francaise La poste qui est la référence pour la distribution.</p>
               <a href="index.html#demonstrations" class="page-scroll btn btn-default btn-xl sr-button">Découvrez
               nos services</a>

            </div>

         </div>
      </div>
   </section>






   <div id="adressesdistribuables"></div>
   <section class="section-small " id="demonstrations">
      <div class="container">
         <div class="row">
            <div class="col-lg-12 text-center">
               <h2 class="section-heading">Des librairies, des APIs, des interfaces utilisateurs prêtes à l'emploi</h2>
               <hr class="primary">
               <p>Enchantez vos utilisateurs en mettant en place des services adresses en quelques minutes.</p>
            </div>
         </div>
      </div>

      <div class="container">
         <div class="row">
            <div class="col-lg-6 col-md-6  col-sm-6 text-center">
               <a href="img/portfolio/thumbnails/checkaddress2.gif" class="portfolio-box hovereffect">
                    <img src="img/portfolio/thumbnails/checkaddress2.gif" class="img-responsive " alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                    Cas d'usage
                            </div>
                            <div class="project-name">
                                Centres d'appels, formulaire de commande en ligne, saisie d'adresses back office
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-6 col-md-6  col-sm-6 text-left">
               <div class="service-box">
                  <h3>Aide à la saisie 6 lignes</h3>
                  <p class="text-muted  text-left">Assistez la saisie des formulaires d'adresses sur 6 lignes.
                  </p>
               </div>
            </div>
         </div>
      </div>

      <div class="container">
         <div class="row top-buffer">
            <div class="col-lg-6 col-md-6  col-sm-6 text-left align-middle">
               <div class="service-box align-middle">
                  <h3>Aide à la saisie 1 ligne</h3>
                  <p class="text-muted text-left">Assistez la saisie des formulaires d'adresses sur 1 ligne.
                  </p>
               </div>
            </div>
            <div class="col-lg-6 col-md-6  col-sm-6 text-center">
               <a href="img/portfolio/thumbnails/checkaddress1.gif" class="portfolio-box hovereffect">
                    <img src="img/portfolio/thumbnails/checkaddress1.gif" class="img-responsive " alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Cas d'usage
                            </div>
                            <div class="project-name">
                                Saisie avec espace d'interface limité
                            </div>
                        </div>
                    </div>
                </a>
            </div>
         </div>
      </div>

      <div class="container">
         <div class="row">
            <div class="col-lg-6 col-md-6  col-sm-6 text-center">
               <a href="img/portfolio/thumbnails/checkaddress5.gif" class="portfolio-box hovereffect">
                       <img src="img/portfolio/thumbnails/checkaddress5.gif" class="img-responsive " alt="">
                       <div class="portfolio-box-caption">
                           <div class="portfolio-box-caption-content">
                               <div class="project-category text-faded">
                                       Cas d'usage
                               </div>
                               <div class="project-name">
                                   Corrections de bases d'adresses
                               </div>
                           </div>
                       </div>
                   </a>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6  text-left">
               <div class="service-box">
                  <h3>RNVP unitaire</h3>
                  <p class="text-muted  text-left">Validez vos adresses avec un traitement RNVP
                  </p>
               </div>
            </div>
         </div>
      </div>

      <div class="container">
         <div class="row top-buffer">
            <div class="col-lg-6 col-md-6  col-sm-6 text-left align-middle">
               <div class="service-box align-middle">
                  <h3>Enrichissements</h3>
                  <p class="text-muted text-left">Enrichissez vos adresses avec des données complémentaires (particulier/entreprise, habitat individuel/collectif, informations cadastrales,
                     stopPub, coordonnées gélocalisées, distribuabilité, adresse conforme RNVP, nombre de point de distribution à l'adresse...)
                  </p>
               </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 text-center">
               <a href="img/portfolio/thumbnails/checkaddress6.gif" class="portfolio-box hovereffect">
                       <img src="img/portfolio/thumbnails/checkaddress6.gif" class="img-responsive " alt="">
                       <div class="portfolio-box-caption">
                           <div class="portfolio-box-caption-content">
                               <div class="project-category text-faded">
                                   Cas d'usage
                               </div>
                               <div class="project-name">
                                   Enrichissement, prospection commerciale
                               </div>
                           </div>
                       </div>
                   </a>
            </div>
         </div>
      </div>
      <div class="container">
         <div class="row">
            <div class="col-lg-6 col-md-6  col-sm-6 text-center">
               <a href="img/portfolio/thumbnails/checkaddress3.gif" class="portfolio-box hovereffect">
                    <img src="img/portfolio/thumbnails/checkaddress3.gif" class="img-responsive " alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                    Cas d'usage
                            </div>
                            <div class="project-name">
                                Services cartographiques
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-6 col-md-6  col-sm-6 text-left">
               <div class="service-box">
                  <h3>Géolocalisation</h3>
                  <p class="text-muted  text-left">Récupérer les géolococalisations de vos adresses avec la précision à la boite aux lettres de la Poste, ou à la précision du bâtiment.
                  </p>
               </div>
            </div>
         </div>
      </div>

      <div class="container">
         <div class="row top-buffer">
            <div class="col-lg-6 col-md-6 col-sm-6 text-left align-middle">
               <div class="service-box align-middle">
                  <h3>Géolocalisation inversée</h3>
                  <p class="text-muted text-left">Récupérez une adresse postale et les caractéristiques associées à partir d'une coordonnée géolocalisée.
                  </p>
               </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 text-center">
               <a href="img/portfolio/thumbnails/checkaddress4.gif" class="portfolio-box hovereffect">
                    <img src="img/portfolio/thumbnails/checkaddress4.gif" class="img-responsive " alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Cas d'usage
                            </div>
                            <div class="project-name">
                                Déplacement technicien pour intervention
                            </div>
                        </div>
                    </div>
                </a>
            </div>
         </div>
      </div>
   </section>



   <section class="section-small bg-primary" id="services">
      <div class="container">
         <div class="row">
            <div class="col-lg-12 text-center">
               <h2 class="section-heading">Nos produits et services</h2>
               <hr class="primary">
            </div>
         </div>
      </div>
      <div class="container">
         <div class="row">
            <div class="col-lg-3 col-md-6 text-center">
               <div class="service-box">
                  <i class="fa fa-4x fa-code  sr-icons"></i>
                  <h3 class="text-muted">Multicanal</h3>
                  <p class="">
                     Tous nos services et données accessibles en <strong>API</strong>, <strong>fichiers</strong>, <strong>interfaces utilisateurs</strong>
                  </p>
               </div>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
               <div class="service-box">
                  <i class="fa fa-4x fa-globe sr-icons"></i>
                  <h3 class="text-muted">Facilement intégrable</h3>
                  <p>
                     Des librairies et interfaces prêtes à l'emploi et <strong>facilement intégrables</strong></p>
               </div>
            </div>
            <div class="col-lg-6 col-md-12  text-center">
               <div class="service-box">
                  <i class="fa fa-4x fa-map-marker "></i>
                  <h3 class="text-muted">Le petit plus</h3>
                  <p>
                     <ul class="text-left">
                        <li>La Poste diffuseur unique du référentiel national d'adresse</li>
                        <li>Géolocalisation des points de distribution et des bâtiments.</li>
                        <li>Code adresse La Poste hexaclé référence de l'adresse pour les nouvelles constructions et les raccordements fibre optique</li>
                        <li>Producteur du fichier national des changements d'adresses</li>
                     </ul>
                  </p>
               </div>
            </div>
         </div>
      </div>
   </section>





   <div id="customers"></div>
   <aside class="bg-success">
      <div class="container text-center">
         <div class="call-to-action">
            <h2>Venez rejoindre nos clients satisfaits !</h2>
            <div class="row">
               <div class="col-sm-2 col-xs-4">
                  <img src="img/portfolio/thumbnails/total.png " class="img-responsive " alt="">
               </div>
               <div class="col-sm-2 col-xs-4">
                  <img src="img/portfolio/thumbnails/Logo_SNCF.png " class="img-responsive " alt="">
               </div>
               <div class="col-sm-2 col-xs-4">
                  <img src="img/portfolio/thumbnails/spring.png " class="img-responsive " alt="">
               </div>
               <div class="col-sm-2 col-xs-4">
                  <img src="img/portfolio/thumbnails/poleemploi.png " class="img-responsive " alt="">
               </div>
               <div class="col-sm-2 col-xs-4">
                  <img src="img/portfolio/thumbnails/chronopost.png " class="img-responsive " alt="">
               </div>
               <div class="col-sm-2 col-xs-4">
                  <img src="img/portfolio/thumbnails/proxi.png " class="img-responsive " alt="">
               </div>
            </div>
         </div>
      </div>
   </aside>






   <aside class="bg-dark">
      <div class="container text-center">
         <div class="call-to-action">
            <h2>Tenez-vous informé des nouveautés!</h2>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSfjMeFBKzXWnVVNlcaR1PENcrRj7WyQpBH3vfjQFIfrW65YHA/viewform
        " target="_blank " class="btn btn-default btn-xl sr-button">Je m'abonne à la newsletter</a>
         </div>
      </div>
   </aside>

   <section class="section-small " id="contact">
      <div class="container">
         <div class="row">
            <div class="col-lg-8 col-lg-offset-2 text-center">
               <h2 class="section-heading">Contactez-nous!</h2>
               <hr class="primary">
               <p>Prêt à lancer votre projet?
                  <br/>Appelez-nous ou envoyez-nous un mail!</p>
            </div>
            <div class="col-lg-4 col-lg-offset-2 text-center">
               <i class="fa fa-phone fa-3x sr-contact"></i>
               <p>05 57 55 29 00</p>
            </div>
            <div class="col-lg-4 text-center">
               <i class="fa fa-envelope-o fa-3x sr-contact"></i>
               <p>
                  <a href="mailto:sav.sna@laposte.fr">sav.sna@laposte.fr</a>
               </p>
            </div>
         </div>
      </div>
   </section>


   <!-- jQuery -->
   <script src="vendor/jquery/jquery.min.js"></script>

   <!-- Bootstrap Core JavaScript -->
   <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

   <!-- Plugin JavaScript -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
   <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
   <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
   <script src="vendor/google-autocomplete/googleautocomplete.js"></script>
   <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
   <script>
      $(function() {

         var data_source = "ban";

         function isAdresseArrayInRow7ToRow1Order(requestArrayToAnalyse) {
            // TODO
            return false;
         }

         function formatAddressToMakeExternalCall(requestData, attendedFormat) {
            var requestToAnalyseInArray = [];
            var fieldSeparator = " ";
            var retunValue = "";

            if (attendedFormat === "CPN") {
               requestToAnalyseInArray = requestData.split('\t');

               if (isAdresseArrayInRow7ToRow1Order(requestToAnalyseInArray)) {
                  requestToAnalyseInArray.reverse();
               }
               requestToAnalyseInArray[requestToAnalyseInArray.length - 1] += " " +
                  requestToAnalyseInArray[requestToAnalyseInArray.length];
               retunValue = requestToAnalyseInArray.join(fieldSeparator);
            } else {
               retunValue = requestData;
            }
            return retunValue;
         }

         //https: //jsfiddle.net/8apgu63n/?utm_source=website&utm_medium=embed&utm_campaign=8apgu63n
         //https: //adrien.poupa.fr/autocompletion-des-adresses-avec-la-base-adresse-nationale/
         var smartAddressDemo = $(".smartAddressDemoInput")
            .autocomplete({
               source: function(request, response) {
                  $(".json-response")
                     .hide();
                  var requestString = "";
                  var url = "";
                  var data = {};
                  if (data_source === "cpn") {
                     requestString = formatAddressToMakeExternalCall(request.term, "CPN") +
                        "&parents=true";
                     url =
                        "national.cpn.prd.sie.courrier.intra.laposte.fr/National/adresses/v1/traduction?";
                     data = {
                        adresseTexte: requestString
                     }
                  } else if (data_source === "ban") {
                     requestString = formatAddressToMakeExternalCall(request.term, "BAN");
                     url =
                        "https://api-adresse.data.gouv.fr/search/"; //?&type=postcode,city
                     data = {
                        q: requestString
                     }
                  }
                  //"https://api-adresse.data.gouv.fr/search/?&type=postcode,city"

                  $.ajax({
                     url: url,
                     data: data,
                     dataType: "json",
                     success: function(data) {


                        var dataToReturn = $.map(data.features, function(item) {
                           var textDisplayed = "",
                              textDisplayedHighlighted = "";
                           var returnedData = {};

                           if (data_source === "ban") {
                              returnedData.id = item.properties.id;

                              returnedData.addressType = item.properties
                                 .type;
                              returnedData.inseeCode = item.properties
                                 .citycode;
                              returnedData.postalCode = item.properties
                                 .postcode;
                              returnedData.locality = item.properties
                                 .city;

                              returnedData.score = item.properties.score;
                              returnedData.latitude = item.properties
                                 .x;
                              returnedData.longitude = item.properties
                                 .y;

                              if (returnedData.addressType === "street" || returnedData.addressType === "housenumber") {
                                 returnedData.address_row4 = item.properties
                                    .name;
                              } else {
                                 returnedData.address_row4 = "";
                              }
                              if (returnedData.addressType === "locality") {
                                 returnedData.address_row5 = item.properties
                                    .name;
                              } else {
                                 returnedData.address_row5 = "";
                              }
                              returnedData.address_row6 = (returnedData.postalCode + " " + returnedData.locality)
                                 .trim();
                           }
                           if (item.properties.name !== item.properties
                              .city) {
                              returnedData.textDisplayed = item.properties.name +
                                 ", " + item.properties.postcode +
                                 " " +
                                 item.properties.city;
                              returnedData.value = item.properties.name +
                                 ", " + item.properties.postcode +
                                 " " +
                                 item.properties.city;
                           } else {
                              returnedData.textDisplayed = item.properties.postcode +
                                 " " +
                                 item.properties.city;
                              returnedData.value = item.properties.postcode +
                                 " " +
                                 item.properties.city;
                           }
                           var hierarchicalAddress = item.properties.context.split(', ');
                           returnedData.department_code = hierarchicalAddress[0];
                           returnedData.department = hierarchicalAddress[1];
                           if (hierarchicalAddress[2]) {
                              returnedData.region = hierarchicalAddress[2].split(' (')[0];
                           } else {
                              returnedData.region = hierarchicalAddress[1];
                           }

                           //returnedData.context = returnedData.department;
                           returnedData.label = returnedData.textDisplayed;
                           returnedData.value = returnedData.value;
                           returnedData.jsonSearchResult = JSON.parse(JSON.stringify(returnedData));
                           return returnedData;
                        })

                        dataToReturn.forEach(function(itemToBeMatched) {
                           dataToReturn.forEach(function(itemToMatch) {
                              if (itemToMatch !== itemToBeMatched && itemToBeMatched.inseeCode !== itemToMatch.inseeCode &&
                                 itemToBeMatched.locality ===
                                 itemToMatch.locality && ['Paris', 'Lyon', 'Marseille'].indexOf(itemToBeMatched.locality) <
                                 0) {
                                 itemToBeMatched.displayHierarchical = true;
                                 itemToMatch.displayHierarchical = true;
                              }
                           });
                        });
                        response(dataToReturn);
                     },
                     error: function() {
                        response([]);
                     }
                  });
               },
               minChars: 0,
               select: function(event, ui) {
                  $(".json-response-text")
                     .html("<pre><code>" + JSON.stringify(ui.item.jsonSearchResult,
                           null, 2) +
                        "</code></pre>");
                  $(".json-response")
                     .show();
               }
            })
            .autocomplete("instance")
            ._renderItem = function(ul, item) {
               var labelToDisplay = "";
               if (item.addressType == "street") {
                  labelToDisplay = item.address_row4 + ", " + item.address_row5 + ", " + item.postalCode + " " + item.locality;
               } else if (item.addressType == "houseNumber") {
                  labelToDisplay = item.address_row4 + ", " + item.address_row5 + ", " + item.postalCode + " " + item.locality;
               } else if (item.addressType == "municipality" || item.addressType == "locality") {
                  labelToDisplay = item.address_row5 + ", " + item.postalCode + " " + item.locality;
               }
               labelToDisplay = labelToDisplay.replace(", , ", ", ")
                  .replace(/^, /, "")
                  .replace(/^, /, "");
               if (item.displayHierarchical === true) {
                  labelToDisplay = labelToDisplay + ", " + item.department;
               }
               return $("<li>")
                  .data("item.autocomplete", item)
                  .addClass("class", "smartadress")
                  .append("<div>" + labelToDisplay + "</div>")
                  .appendTo(ul);
            }


      });
   </script>
   <!-- Theme JavaScript -->
   <script src="js/creative.js"></script>
   <script>
      $(function() {
         $('.dropdown')
            .hover(function() {
               $('.dropdown-toggle', this)
                  .trigger('click');
            });
      });
   </script>

</body>

</html>